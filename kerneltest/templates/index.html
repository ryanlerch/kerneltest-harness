{% extends "master.html" %}

{% block title %}Home{% endblock %}

{% set options = True %}
{% block options_title %}Current releases{% endblock %}
{%block options %}
<ul class="list-group list-group-flush">
  {% if is_admin %}
  <li class="list-group-item">
    <a href='{{ url_for("admin_new_release") }}'>
        New release
    </a>
  </li>
  </ul>
  <ul class="list-group list-group-flush">
  {% endif %}
  {% for release in releases %}
  <li class="list-group-item">
    {% if release == rawhide %}
        <a href='{{ url_for("release", release=release.releasenum) }}'>
            Fedora Rawhide
        </a>
    {% else %}
      <a href='{{ url_for("release", release=release.releasenum) }}'>
          Fedora {{ release.releasenum }}
      </a>
    {% endif %}
    {% if is_admin %}
    (<a href='{{ url_for("admin_edit_release", relnum=release.releasenum) }}'
        >edit</a>)
    {% endif %}
  </li>
  {% endfor %}
</ul>
{% endblock %}
{% block contentheader %}
<h1>Fedora Kernel Test Results</h1>

<p>
  Check the
<a href='http://fedoraproject.org/wiki/KernelTestingInitiative'>
    wiki page
</a>
  to learn more about this project.
</p>
{% endblock %}

{% block content %}
<div class="list-group">
  {% for kernel, details in test_matrix.iteritems() %}
    <a class="list-group-item" href="{{ url_for("kernel", kernel=kernel) }}">
      <div class="row">
        <div class="col-md-6">
          <div>
            {{kernel}}
            {%for arch in details["arches"]%}
              <span class="label label-default">{{arch}}</span>
            {%endfor%}
            {%for fver in details["fedoraversion"]%}
              <span class="label label-primary">F{{fver}}</span>
            {%endfor%}
          </div>
        </div>
        <div class="col-md-6">
          <div class="pull-xs-right">
            {%if details["fails"] != 0 %}<span class="label label-danger">{{details["fails"]}} FAILED</span>&nbsp;{%endif%}
            {%if details["passes"] != 0 %}<span class="label label-success">{{details["passes"]}} PASSED</span>{%endif%}
          </div>
        </div>
      </div>
    </a>
  {% endfor %}
</div>
{% endblock %}
